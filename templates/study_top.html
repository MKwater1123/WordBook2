{% extends "layout.html" %}
{% block title %}å­¦ç¿’ - VocabularyBook{% endblock %}

{% block content %}

<div class="max-w-md mx-auto mt-10">
    <div class="bg-white rounded-2xl shadow-md border border-gray-200 p-8 text-center">
        <h1 class="text-2xl font-bold text-gray-800 mb-6">ğŸ“ å­¦ç¿’ãƒˆãƒƒãƒ—</h1>

        <!-- ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, message in messages %}
        <div class="mb-4 px-4 py-3 rounded-lg text-sm font-medium
          {% if category == 'success' %}bg-blue-50 text-blue-800 border border-blue-200
          {% elif category == 'error' %}bg-red-50 text-red-800 border border-red-200
          {% else %}bg-amber-50 text-amber-800 border border-amber-200{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
        {% endwith %}

        <!-- æœ¬æ—¥ã®ã‚«ãƒ¼ãƒ‰æ•° -->
        <div class="mb-2">
            <p class="text-gray-500 text-sm mb-1">ä»Šæ—¥å­¦ç¿’ã™ã¹ãã‚«ãƒ¼ãƒ‰</p>
            <p class="text-6xl font-extrabold {% if due_count > 0 %}text-indigo-600{% else %}text-gray-300{% endif %}">
                {{ due_count }}
            </p>
            <p class="text-gray-400 text-sm mt-1">æš</p>
        </div>

        <!-- ç·ç™»éŒ²æ•° -->
        <p class="text-gray-500 text-sm mb-8">
            å˜èªå¸³ã®ç·ç™»éŒ²æ•°: <span class="font-semibold text-gray-700">{{ total_count }}</span> ä»¶
        </p>

        <!-- å­¦ç¿’é–‹å§‹ãƒœã‚¿ãƒ³ -->
        {% if due_count > 0 %}
        <form action="{{ url_for('study_start') }}" method="POST">
            <button type="submit"
                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl text-lg transition shadow">
                å­¦ç¿’é–‹å§‹ â†’
            </button>
        </form>
        {% else %}
        <div
            class="w-full bg-gray-100 text-gray-400 font-bold py-3 rounded-xl text-base cursor-not-allowed border border-gray-200">
            æœ¬æ—¥ã®å­¦ç¿’ã¯å®Œäº†ã—ã¦ã„ã¾ã™ âœ…
        </div>
        {% if total_count == 0 %}
        <p class="text-xs text-gray-400 mt-3">
            ã¾ãš<a href="{{ url_for('index') }}" class="text-indigo-500 hover:underline">æ¤œç´¢ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰å˜èªã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
        </p>
        {% endif %}
        {% endif %}
    </div>
</div>

{% endblock %}